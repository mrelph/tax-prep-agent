# Federal Tax Rules for Tax Year 2024
tax_year: 2024

# Tax brackets (ordinary income)
brackets:
  single:
    - { min: 0, max: 11600, rate: 0.10 }
    - { min: 11600, max: 47150, rate: 0.12 }
    - { min: 47150, max: 100525, rate: 0.22 }
    - { min: 100525, max: 191950, rate: 0.24 }
    - { min: 191950, max: 243725, rate: 0.32 }
    - { min: 243725, max: 609350, rate: 0.35 }
    - { min: 609350, max: null, rate: 0.37 }

  married_filing_jointly:
    - { min: 0, max: 23200, rate: 0.10 }
    - { min: 23200, max: 94300, rate: 0.12 }
    - { min: 94300, max: 201050, rate: 0.22 }
    - { min: 201050, max: 383900, rate: 0.24 }
    - { min: 383900, max: 487450, rate: 0.32 }
    - { min: 487450, max: 731200, rate: 0.35 }
    - { min: 731200, max: null, rate: 0.37 }

  married_filing_separately:
    - { min: 0, max: 11600, rate: 0.10 }
    - { min: 11600, max: 47150, rate: 0.12 }
    - { min: 47150, max: 100525, rate: 0.22 }
    - { min: 100525, max: 191950, rate: 0.24 }
    - { min: 191950, max: 243725, rate: 0.32 }
    - { min: 243725, max: 365600, rate: 0.35 }
    - { min: 365600, max: null, rate: 0.37 }

  head_of_household:
    - { min: 0, max: 16550, rate: 0.10 }
    - { min: 16550, max: 63100, rate: 0.12 }
    - { min: 63100, max: 100500, rate: 0.22 }
    - { min: 100500, max: 191950, rate: 0.24 }
    - { min: 191950, max: 243700, rate: 0.32 }
    - { min: 243700, max: 609350, rate: 0.35 }
    - { min: 609350, max: null, rate: 0.37 }

# Capital gains rates
capital_gains:
  short_term: "ordinary"  # Taxed as ordinary income
  long_term:
    single:
      - { min: 0, max: 47025, rate: 0.00 }
      - { min: 47025, max: 518900, rate: 0.15 }
      - { min: 518900, max: null, rate: 0.20 }
    married_filing_jointly:
      - { min: 0, max: 94050, rate: 0.00 }
      - { min: 94050, max: 583750, rate: 0.15 }
      - { min: 583750, max: null, rate: 0.20 }
    married_filing_separately:
      - { min: 0, max: 47025, rate: 0.00 }
      - { min: 47025, max: 291850, rate: 0.15 }
      - { min: 291850, max: null, rate: 0.20 }
    head_of_household:
      - { min: 0, max: 63000, rate: 0.00 }
      - { min: 63000, max: 551350, rate: 0.15 }
      - { min: 551350, max: null, rate: 0.20 }

# Standard deduction
standard_deduction:
  single: 14600
  married_filing_jointly: 29200
  married_filing_separately: 14600
  head_of_household: 21900
  qualifying_surviving_spouse: 29200

# Additional standard deduction for age 65+ or blind
additional_standard_deduction:
  single: 1950
  married: 1550  # Per person

# Social Security and Medicare
social_security:
  wage_base: 168600
  rate: 0.062

medicare:
  rate: 0.0145
  additional_rate: 0.009  # Above threshold
  additional_threshold:
    single: 200000
    married_filing_jointly: 250000
    married_filing_separately: 125000

# Net Investment Income Tax (NIIT)
niit:
  rate: 0.038
  threshold:
    single: 200000
    married_filing_jointly: 250000
    married_filing_separately: 125000
    head_of_household: 200000

# Alternative Minimum Tax (AMT)
amt:
  exemption:
    single: 85700
    married_filing_jointly: 133300
    married_filing_separately: 66650
  phase_out:
    single: 609350
    married_filing_jointly: 1218700
    married_filing_separately: 609350
  rates:
    - { min: 0, max: 232600, rate: 0.26 }  # Single/MFS
    - { min: 232600, max: null, rate: 0.28 }

# Credits
credits:
  child_tax_credit:
    amount: 2000
    refundable_max: 1700
    phase_out_start:
      single: 200000
      married_filing_jointly: 400000
    phase_out_rate: 0.05  # $50 per $1000 over threshold

  earned_income_credit:
    max_investment_income: 11600
    amounts:
      no_children: 632
      one_child: 4213
      two_children: 6960
      three_plus_children: 7830

  education:
    american_opportunity:
      max: 2500
      refundable: 1000  # 40% of credit
    lifetime_learning:
      max: 2000
      phase_out:
        single: { start: 80000, end: 90000 }
        married_filing_jointly: { start: 160000, end: 180000 }

  savers_credit:
    max_contribution: 2000
    rates:
      - { rate: 0.50, single_max: 23000, mfj_max: 46000 }
      - { rate: 0.20, single_max: 25000, mfj_max: 50000 }
      - { rate: 0.10, single_max: 38250, mfj_max: 76500 }

# IRA contribution limits
ira:
  contribution_limit: 7000
  catch_up_contribution: 1000  # Age 50+
  income_phase_out:
    traditional_covered_by_plan:
      single: { start: 77000, end: 87000 }
      married_filing_jointly: { start: 123000, end: 143000 }
    roth:
      single: { start: 146000, end: 161000 }
      married_filing_jointly: { start: 230000, end: 240000 }

# 401(k) limits
retirement_401k:
  employee_contribution_limit: 23000
  catch_up_contribution: 7500  # Age 50+
  total_limit: 69000  # Employee + employer

# HSA limits
hsa:
  contribution_limit:
    individual: 4150
    family: 8300
  catch_up_contribution: 1000  # Age 55+

# Qualified business income deduction (Section 199A)
qbi:
  max_rate: 0.20
  threshold:
    single: 191950
    married_filing_jointly: 383900
